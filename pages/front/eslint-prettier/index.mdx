---
title: 'ì½”ë“œ í¬ë§·í„° & ë¦°í„° ì„¤ì •'
date: 2024/04/10
---

# ì½”ë“œ í¬ë©§í„° & ë¦°í„°

## 1. ì½”ë“œ í¬ë©§í„° & ë¦°í„°

íŒ€ë‹¨ìœ„ë¡œ ì½”ë”©ì„ í•˜ë©´, ê°ìì˜ ì½”ë“œ ìŠ¤íƒ€ì¼ì´ ë‹¤ë¥´ê²Œ ë©ë‹ˆë‹¤.
ë‹¤ì–‘í•œ ì‚¬ëŒë“¤ê³  í˜‘ì—…ì„ í•  ë–„, ì¼ì •í•œ ê·œì¹™ì„ ì •í•˜ê²Œ ë˜ë©´, ì¼ì´ ì¡°ê¸ˆ ë” ìˆ˜ì›”í•˜ê²Œ ì§„í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

### 1.1 ì½”ë“œ ë¦°í„°

- ë¬¸ë²•ì—ì„œ ì—ëŸ¬ëŠ” ì•„ë‹ˆì§€ë§Œ ì—ëŸ¬ë¡œ ì•½ì†í•˜ìê³  ê·œì¹™ì„ ì •í•˜ëŠ” ê²ƒ
- ì—ëŸ¬ëŠ” ì•„ë‹ˆë¼ ê·œì¹™ì— ì–´ê¸‹ë‚˜ëŠ”ê°€ë¥¼ ê²€ì‚¬í•˜ê¸° ë•Œë¬¸ì— vscodeì—ì„œ ë¹¨ê°„ ì¤„ì´ ê·¸ì—¬ë„ ì‹¤í–‰í•˜ëŠ”ë°ëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ë‹¤.
  - e.g. import ìˆœì„œ, ==ê¸ˆì§€ ë“±
- ë˜í•œ eslintìì²´ì— í¬ë©”í„° ê¸°ëŠ¥ë„ ì–´ëŠì •ë„ ê°€ì§€ê³  ìˆë‹¤.

---

### 1.2 ì½”ë“œ í¬ë©”í„°

- ì½”ë“œë¥¼ ë³´ê¸° ì¢‹ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒ
- e.g. ë„ì–´ì“°ê¸° 2ì¹¸,-ê¸¸ì´ ë„˜ìœ¼ë©´ ì¤„ë°”ê¿ˆ í•˜ê¸° ë“±

---

## 2. ESLint

1. VSCodeì—ì„œ ESLintë¥¼ ì„¤ì¹˜
2. next.jsëŠ” `packge.json`ì— ë“¤ì–´ê°€ë³´ë©´, eslintê°€ ê°™ì´ ì„¤ì¹˜ëœë‹¤.

```bash
# ESLint íŒ¨í‚¤ì§€ ì„¤ì¹˜
$ yarn add eslint --dev
# ESLint ì´ˆê¸°í™”
$ npx eslint --lint
## .eslintrc.json íŒŒì¼ì— ì›í•˜ëŠ” ESLint rules ì ìš©

# eslintë¥¼ ì–´ë–¤ì‹ìœ¼ë¡œ ì‚¬ìš©í• ì§€ì— ëŒ€í•œ ì§ˆë¬¸
How would you like to use ESlint ? => syntax, problems, code style
# ìë°”ìŠ¤í¬ë¦½íŠ¸ ë­ì“°ê³  ìˆëŠ”ì§€ ë¬»ëŠ”ê²ƒ
Waht type of modiles does your project use? => Javascript modules (import/export)
# reactë¥¼ ì„ íƒ
Which framework does your project use? => react
# íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ìœ ë¬´
Does your project use TypeScript? => Yes
# ì–´ë””ì„œ ì‹¤í–‰í•˜ëŠ”ì§€ í™•ì¸
Where does your code run? => Browser
# ì¸ê¸°ìˆëŠ” ê°€ì´ë“œë¥¼ í• ì§€, ì»¤ìŠ¤í…€ì„ í•  ì§€ ì„ íƒ
How would you like to define a style for your project? => Use a popular style guide
Which style guide do you want to follow? => standard
# ì„¤ì •íŒŒì¼ì„ ë­˜ë¡œ ë§Œë“¤ì§€ ë¬¼ì–´ë³´ëŠ” ì§ˆë¬¸
What format do you want your config file to be in? => Javascript
# ì–´ë–¤ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ ì„¤ì¹˜í• ì§€
Which package manager do you want to use? => yarn
```

> ğŸ’¡ `npx` : ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ë„êµ¬ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ê³ , ê¸°ëŠ¥ì„ ì‹¤í–‰ í›„ ë‹¤ìš´ë¡œë“œ ë°›ì•˜ë˜ ë„êµ¬ë¥¼ ì‚­ì œí•˜ëŠ” ëª…ë ¹ì–´

`eslintrc.js`ì— ë“¤ì–´ê°€ì„œ, rulesì— ë¶ˆí¸í•œ ê·œì¹™ì„ ì¶”ê°€í•˜ê³ , í•´ë‹¹ ê·œì¹™ì„ off í•´ì£¼ì‹œë©´ ëœë‹¤.

```json
// í•„ìš”ì—†ëŠ” ê·œì¹™ì€ offí•´ì„œ ë„ë©´ ëœë‹¤.
rules: {
  'react/react-in-jsx-scope': 'off',
  'react/prop-types': 'off'
 }
```

---

### 2.1 ESLintì— ì¡íŒ ì˜¤ë¥˜ í™•ì¸

```bash
# .ì€ ëª¨ë“  íŒŒì¼ì„ ì˜ë¯¸
$ npx eslint .

# . ì´ ì•ˆë  ê²½ìš°ì—ëŠ”, ""ì•ˆì˜ í˜•íƒœë¡œ ëë‚˜ëŠ” íŒŒì¼ì„ ëª¨ë‘ ê²€ì‚¬í•˜ëŠ” ëª…ë ¹ì–´ë¡œ ì…ë ¥
npx eslint "**/*.{ts,tsx}"
```

---

### 2.2 .eslintignore íŒŒì¼

Typescriptì˜ type íŒŒì¼ê°™ì€ eslintì—ì„œ ì œì™¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©

---

### 2.3 ESLint ì„¤ì • ì˜ˆì‹œ

```json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:prettier/recommended", // Next.jsì— Prettier ì ìš©
    "plugin:storybook/recommended" // Storybook ESLint ê·œì¹™ ì ìš©
  ],
  "plugins": ["prettier"],
  /**
   * @see https://github.com/import-js/eslint-plugin-import/blob/main/docs/rules/order.md
   */
  "rules": {
    "prettier/prettier": "error",
    "react-hooks/rules-of-hooks": "warn",
    "react/display-name": "warn",
    // â€œImport/order â€œ ESLint Rule ì„¤ì •
    "import/order": [
      "error",
      {
        // Import group ì‚¬ì´ì— ê°œí–‰ í•­ìƒ ì¶”ê°€
        "newlines-between": "always",
        // Import ìˆœì„œëŠ” ì•ŒíŒŒë²³ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
        "alphabetize": {
          "order": "asc",
          "caseInsensitive": true // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ì •ë ¬
        }
      }
    ]
  }
}
```

- í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— .eslintrc.json íŒŒì¼ì— ìœ„ì™€ ê°™ì´ ì…ë ¥
- ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì „ì²´ í”„ë¡œì íŠ¸ lint ê²€ì‚¬: `yarn lint`
- Error ë‚´ìš©ë§Œ ë³´ê³ ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥: `yarn lint â€”quiet`

---

## 3. Prettier

### 3.1 VScode ì„¤ì •

- VScode extensionì—ì„œ Prettierë¥¼ ì„¤ì¹˜
- Format on Save í™•ì¸
  - vscode ì„¤ì •ì—ì„œ format on saveë¥¼ ì…ë ¥í•˜ê³  ë‚˜ì˜¤ëŠ” ì„¤ì •ì— ì²´í¬ë˜ì–´ ìˆëŠ” ì§€ í™•ì¸
- Default Formatter í™•ì¸
  - ì„¤ì •ì´ prettier format (esbenp.prettier-vscode) ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ” ì§€ í™•ì¸

---

### 3.2 prettier í”„ë¡œì íŠ¸ ì„¤ì¹˜ ë° ì„¸íŒ…

```bash
# prettier íŒ¨í‚¤ì§€ ì„¤ì¹˜
yarn add --dev --exact prettier

# ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— .prettierrc íŒŒì¼ ìƒì„±
node --eval "fs.writeFileSync('.prettierrc','{}\n')"

# ëª¨ë“  íŒŒì¼ì— prettier ì ìš©
yarn prettier . â€”write
```

`echo {}> .prettierrc.json` ëª…ë ¹ì–´ë¡œ `.prettierrc.json` ì„¤ì •íŒŒì¼ì„ ìƒì„±

> cf. https://prettier.io/docs/en/install.html

---

### 3.3 VScode ì„¤ì •ì„ íŒŒì¼ë¡œ ê´€ë¦¬

```json
{
	"editor.formatOnSave":ture,
	"editor.defultFormatter": "esbenp.prettier-vscode"
}
```

- ìµœìƒë‹¨ ê²½ë¡œì— `.vscode` í´ë”ë¥¼ ìƒì„±í•´ ì¤€ í›„ ì•ˆìª½ì— `settings.json` íŒŒì¼ ìƒì„±
- íŒŒì¼ê¹Œì§€ ì±„ì›Œì£¼ê³  ë‚˜ë©´, ì½”ë“œì˜ ì •ë ¬ì„ ë§ì¶”ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ì½”ë“œì˜ ì •ë ¬í•¨

---

### 3.4 ESLintì™€ Prettier ì—°ê²°

ê° íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì— ë”°ë¼ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ `eslint-config-prettier`ë¥¼ ì„¤ì¹˜

```bash
$ npm install --save-dev eslint-config-prettier
$ yarn add eslint-config-prettier --dev
```

`.eslintrc.js` íŒŒì¼ ì•ˆì—ì„œ "extends" ë°°ì—´ì— "prettier"ë¥¼ ì¶”ê°€

```json
{
  "extends": ["plugin:react/recommended", "standard-with-typescript", "prettier"]
}
```

---

### 3.5 prettier ì„¤ì •ëŒ€ë¡œ ìˆ˜ì •

```bash
# ëª¨ë“  í´ë” prettier ì ìš©
$ npx prettier . --write
```

---

## 4. ìì£¼ ì‚¬ìš©í•˜ëŠ” ESLint & Prettier

### 4.1 ESLint

ì£¼ì„ ì„¤ëª…

```json .eslintrc.json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:prettier/recommended", // Next.jsì— Prettier ì ìš©
    "plugin:storybook/recommended" // Storybook ESLint ê·œì¹™ ì ìš©
  ],
  "plugins": ["prettier"],
  /**
   * @see https://github.com/import-js/eslint-plugin-import/blob/main/docs/rules/order.md
   */
  "rules": {
    "prettier/prettier": "error",
    "react-hooks/rules-of-hooks": "warn",
    "react/display-name": "warn",
    // â€œImport/order â€œ ESLint Rule ì„¤ì •
    "import/order": [
      "error",
      {
        // Import group ì‚¬ì´ì— ê°œí–‰ í•­ìƒ ì¶”ê°€
        "newlines-between": "always",
        // Import ìˆœì„œëŠ” ì•ŒíŒŒë²³ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
        "alphabetize": {
          "order": "asc",
          "caseInsensitive": true // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ì •ë ¬
        }
      }
    ]
  }
}
```

ì£¼ì„ ì œê±°

```json .eslintrc.json
{
  "extends": ["next/core-web-vitals", "plugin:prettier/recommended", "plugin:storybook/recommended"],
  "plugins": ["prettier"],

  "rules": {
    "prettier/prettier": "error",
    "react-hooks/rules-of-hooks": "warn",
    "react/display-name": "warn",
    "import/order": [
      "error",
      {
        "newlines-between": "always",
        "alphabetize": {
          "order": "asc",
          "caseInsensitive": true
        }
      }
    ]
  }
}
```

---

### 4.2 Prettier

ì£¼ì„ ì„¤ëª…

```json .prettierrc
{
  // 1. í™‘ë”°ì˜´í‘œ
  "singleQuote": true,
  // 2. í•œ ì¤„ ìµœëŒ€ ê¸€ììˆ˜
  "printWidth": 80,
  // 3. ì„¸ë¯¸ì½œë¡ 
  "semi": false,
  // 4. ë°°ì—´ì´ë‚˜ ê°ì²´, ë§¤ê°œë³€ìˆ˜ê°€ ì‘ì„±ëœ ê²½ìš° ë§ˆì§€ë§‰ ìš”ì†Œ ë’¤ì—ë„ ,ê¸°í˜¸(ì‰¼í‘œ)ë¥¼ ë¶™ì—¬ì£¼ê¸°
  // ê¸°ë³¸ê°’ : all
  "trailingComma": "all",
  // 5. í™”ì‚´í‘œ í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ì¼ ë•ŒëŠ” êµ³ì´ () ê¸°í˜¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´
  "arrowParens": "avoid",
  // 6. íƒ­ ë¬¸ì ëŒ€ì‹ ì— ì—¬ëŸ¬ ê°œì˜ ê³µë°± ë¬¸ìë¥¼ ì‚¬ìš© ì—¬ë¶€
  "useTabs": false,
  // 7. íƒ­ ë„ˆë¹„
  "tabWidth": 2,
  // 8. ê°ì²´ ë¦¬í„°ëŸ´ ì‚¬ìš©ì‹œ ê´„í˜¸ì— ê³µë°± ì‚½ì… ì—¬ë¶€ (default: true)
  "bracketSpacing": true,
  // 9. JSXì˜ ë§ˆì§€ë§‰ `>`ë¥¼ ë‹¤ìŒ ì¤„ë¡œ ë‚´ë¦´ì§€ ì—¬ë¶€
  "jsxBracketSameLine": true,
  // 10. vue íŒŒì¼ì˜ scriptì™€ styleíƒœê·¸ ë“¤ì—¬ì“°ê¸° ì—¬ë¶€
  "vueIndentScriptAndStyle": false,
  // 11. ë§¨ë§ˆì§€ë§‰ ì¤„ ë„£ëŠ”ì§€ ì—¬ë¶€
  "endOfLine": "auto",
  // 12. ì´ í™•ì¥ ê¸°ëŠ¥ì„ ë¹„í™œì„±í™” í•  ì–¸ì–´ ID ëª©ë¡
  "disableLanguages": ["vue"]
}
```

- cf. ê·¸ ì™¸ ì˜µì…˜ : https://prettier.io/docs/en/options

ì£¼ì„ ì œê±°

```json .prettierrc
{
  "singleQuote": true,
  "printWidth": 80,
  "semi": false,
  "trailingComma": "all",
  "arrowParens": "avoid",
  "useTabs": false,
  "tabWidth": 2,
  "bracketSpacing": true,
  "jsxBracketSameLine": true,
  "vueIndentScriptAndStyle": false,
  "endOfLine": "auto"
}
```

---

## 5. Husky

- `Husky` : gitì— commit í•˜ê¸° ì „ì—, ê¸°ì¡´ì˜ ê·œì¹™(typescript, eslint, prettier ë“±)ì„ ì§€ì¼œê°€ë©´ì„œ ì½”ë”©ì„ ì§„í–‰í•˜ì˜€ëŠ”ì§€ ê²€ì¦í•´ ì£¼ëŠ” ë„êµ¬
- ê·œì¹™ì— ì–´ê¸‹ë‚˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´ commitì„ ê°•ì œë¡œ ê±°ì ˆ

```bash
yarn add -D husky@4
yarn add --dev lint-staged
```

package.json íŒŒì¼ì— huskyì™€ lint-staged ë‚´ìš©ì„ ì‘ì„±

```json
{
  // ...
  "devDependencies": {
    // ...
  },
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "**/*.{ts,tsx}": ["npx eslint ."]
  }
}
```
