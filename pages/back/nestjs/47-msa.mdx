---
title: '47-MSA'
date: 2023/12/25
---

## 1. MSAì˜ ì •ì˜

MSAëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ì—¬ëŸ¬ ì‘ì€ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë¡œ ë¶„í• í•˜ì—¬ ê°œë°œí•˜ê³  ë°°í¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.

ì£¼ìš” íŠ¹ì§•

- ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•´ì•¼í•œë‹¤.
- ì„œë¹„ìŠ¤ê°„ ëŠìŠ¨íˆ ê²°í•©ë¼ì•¼í•œë‹¤. (Loosely Coupled)
- ë¹„ì¦ˆë‹ˆìŠ¤ ëª©ì ë³„ë¡œ ë‚˜ë‰˜ì–´ì•¼í•œë‹¤.

í”í•œ ì˜¤í•´

- ìƒê°ë³´ë‹¤ ë„“ì€ ì†Œí”„íŠ¸ì›¨ì–´ â€œì•„í‚¤í…ì²˜â€ì˜ ê°œë…ì´ë‹¤.
- íŠ¹ì • ê¸°ìˆ ì˜ ì‚¬ìš©ì„ ì‹œì‚¬í•˜ê±°ë‚˜ ê°•ì œí•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì–´ì°¨í”¼ Microserviceë¥¼ ë¯¸ë˜ì— í•  ê³„íšì´ë¼ë©´ ì²˜ìŒë¶€í„° Microserviceë¥¼ í•˜ëŠ”ê²Œ ì¢‹ë‹¤

---

### 1.1 MSAì— ëŒ€í•œ ìƒê°

ì´ë¡ ì ìœ¼ë¡œ MSAëŠ” â€œMSAëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ì—¬ëŸ¬ ì‘ì€ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë¡œ ë¶„í• í•˜ì—¬ ê°œë°œí•˜ê³  ë°°í¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.â€ë¥¼ ë§í•˜ëŠ”ê²Œ ë§ë‹¤.
í° ë¬´ì–¸ê°€ë¥¼ ê¼­ ìª¼ê°œì•¼í•˜ëŠ” ìƒí™©ì´ ë§Œë“¤ì–´ì§€ë ¤ë©´ í”„ë¡œì íŠ¸ê°€ ë„ˆë¬´ í¬ê±°ë‚˜ íŒ€ì´ ë„ˆë¬´ ì»¤ì•¼í•œë‹¤.
í•˜ì§€ë§Œ ì´ ë‘˜ì„ ì¶©ì¡±í•˜ëŠ” íšŒì‚¬ëŠ” ìƒê°ë³´ë‹¤ ì–¼ë§ˆ ì—†ë‹¤.

Monolithic Architecture ë¶€í„° MSA ì‚¬ì´ì—ëŠ” ê°œì¸ì ìœ¼ë¡œ ë¬´ìˆ˜í•œ íƒ€í˜‘ì ë“¤ì´ ìˆë‹¤ê³  ìƒê°í•œë‹¤.
ì¦‰, ì´ ë‘ ì•„í‚¤í…ì²˜ëŠ” í‘ë°± ë…¼ë¦¬ë¡œ ë‚˜ë‰˜ëŠ”ê²Œ ì•„ë‹ˆë¼ í•˜ë‚˜ì˜ ìŠ¤í™íŠ¸ëŸ¼ì´ ì¡´ì¬í•œë‹¤.

í•„ìš”í•œ ë¶€ë¶„ë¶€í„° ì „í™˜ì„ í•˜ë©´ì„œ ì²œì²œíˆ ë³€í™”ë¥¼ ë§Œë“¤ì–´ê°€ë©´ ëœë‹¤.
â€œMonolithicì´ë‹ˆê¹Œ ì´ë ‡ê²Œ í•´ì•¼ì§€!â€, â€œMSAë‹ˆê¹Œ ì´ë ‡ê²Œ í•´ì•¼ì§€!â€ë¼ëŠ” íŠ¹ì • ê°œë…ì„ ê°•ì œí•˜ëŠ” ì •ë‹µì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. Monolithic ë¶€í„° ì‹œì‘í•´ì„œ í•˜ë‚˜ì”© ë¶„í•  í•´ê°€ë©´ì„œ MSAë¡œ ì „í–¥ì„ í•˜ëŠ” ë°©ì‹ì´ ê°€ì¥ ì´ìƒì ì¸ MSA êµ¬ì¶• ë°©ë²•ì´ë‹¤.

ìŠì§€ë§ì. ìš°ë¦¬ëŠ” Software Engineerë‹¤.
ê¶ê·¹ì ì¸ ë‹µì„ ì°¾ì•„ë‚´ëŠ” ê³¼í•™ì„ í•˜ëŠ” ì‚¬ëŒë“¤ì´ ì•„ë‹ˆë¼ ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚´ëŠ” ì—”ì§€ë‹ˆì–´ë“¤ì´ë‹¤.
â€œíš¨ìœ¨ì ì¸ ê²°ê³¼â€ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì–´ëŠ í•˜ë‚˜ì˜ ë‹µë§Œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤

---

### 1.2 Monolithic to MSA

![nestjs-fastcam-msa_47-1](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-1.png)

---

### 1.3 Monolithic Architecture

Monolithic ArchitectureëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•˜ë‚˜ì˜ ë©ì–´ë¦¬ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.
UI, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ (Infrastructure) ë“±ì´ í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ êµ¬ì„±ëœë‹¤.

- í•˜ë‚˜ì˜ ë°°í¬ ìœ ë‹› : ëª¨ë“  ìš”ì†Œê°€ í•œë²ˆì— ë°°í¬ëœë‹¤.
  - ì‘ì€ ìŠ¤í™ í•˜ë‚˜ì˜ ë³€ê²½ì´ ì‹œìŠ¤í…œ ì „ì²´ì˜ ì¬ë°°í¬ë¥¼ ìš”êµ¬í•œë‹¤.
  - ì—…ë°ì´íŠ¸ í¬ê¸°ì™€ ê´€ê³„ì—†ì´ ì „ì²´ ë°°í¬ê³¼ì •ì„ ëª¨ë‘ ê±°ì³ì•¼í•œë‹¤ (í…ŒìŠ¤íŠ¸, CICDë“±)
- ë„ë©”ì¸ê°„ ì˜ì¡´ì„±ì´ ê°•í•˜ë‹¤ : ë„ë©”ì¸ì˜ ì˜ˆì œ-> Auth, User, Product, Payment
  - ë¶€ë¶„ì ì¸ ì—…ë°ì´íŠ¸ ë°°í¬ê°€ ì–´ë µë‹¤.
  - í•˜ë‚˜ì˜ ì„¬ì„¸í•œ ê¸°ìˆ ì  ë³€ê²½ì´ ìˆ˜ë§ì€ ë‹¤ë¥¸ ìš”ì†Œë“¤ì— â€œí° ì˜í–¥â€ì„ ë¼ì¹  ìˆ˜ ìˆë‹¤.
  - ìœ ì§€ ë³´ìˆ˜ì— ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•˜ê³  ìƒˆë¡œìš´ ì¸ë ¥ ì˜¨ë³´ë”©ì— ì ì  ë” ë§ì€ ì‹œê°„ì´ í•„ìš”í•´ì§„ë‹¤.
- í™•ì¥ì„± : Scalability
  - í•œ ê¸°ëŠ¥ì— ëŒ€í•œ í™•ì¥ë§Œ í•„ìš”í•˜ë”ë¼ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ë¥¼ í™•ì¥í•´ì•¼í•œë‹¤

---

## 2. Microservice Architecture

Microservice ArchitectureëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ê³  ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë“¤ì„ ë„ë©”ì¸ë³„ë¡œ ë‚˜ëˆ ì„œ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì´ë‹¤.
ê° ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ ìš´ì˜ë˜ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì„œë¡œ í†µì‹ í•˜ë©° ê°ê° ë”°ë¡œ ê°œë°œ, ìœ ì§€ë³´ìˆ˜, í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤

- SRP : Single Responsibility Principle
  - ê° ì„œë¹„ìŠ¤ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ì˜ í•˜ë‚˜ì˜ ë„ë©”ì¸ì„ ë§¡ì•„ì„œ ìš´ì˜ëœë‹¤. ì˜ˆ) ì¸ì¦, ì‚¬ìš©ì, ê²°ì œ, ìƒí’ˆ
  - ë„ë©”ì¸ ë‹¨ìœ„ë³„ ì†ŒìŠ¤ì½”ë“œë¥¼ ìµœì†Œí™” í•  ìˆ˜ ìˆì–´ì„œ ê°œë°œ, ìœ ì§€ë³´ìˆ˜, ìš´ì˜ì´ ì‰¬ì›Œì§„ë‹¤.
- ë…ë¦½ì ì¸ ìš´ì˜
  - ì„œë¹„ìŠ¤ê°„ ì˜ì¡´ì„±ì´ ì•½í•˜ë‹¤.
  - í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ì˜ ì—…ë°ì´íŠ¸ê°€ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì—ëŒ€í•´ â€œí° ì˜í–¥â€ì„ ë¯¸ì¹  ê°€ëŠ¥ì„±ì´ ì ë‹¤.
  - ê° ë„ë©”ì¸ë³„ë¡œ íŒ€ì„ ê¾¸ë¦¬ê³  ìš´ì˜í•˜ê¸° í¸ë¦¬í•˜ë‹¤.
  - íƒˆì¤‘ì•™í™”ëœ ë°ì´í„°ë² ì´ìŠ¤ ìš´ì˜ì´ ê°€ëŠ¥í•˜ë‹¤.
- ì¥ì• ë¥¼ ë²„í‹°ëŠ” ëŠ¥ë ¥(?) : Fault Tolerance
  - í•œ ì„œë¹„ìŠ¤ì— â€œì¤‘ëŒ€í•œâ€ ë¬¸ì œê°€ ìƒê¸´ë‹¤ê³  í•´ì„œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë“¤ì´ ëª¨ë‘ ë‹¤ìš´ë˜ì§€ ì•ŠëŠ”ë‹¤.
  - ì˜ˆë¥¼ë“¤ì–´ ê²°ì œ ì„œë¹„ìŠ¤ê°€ ë‹¤ìš´ëœë‹¤ê³  ì›¹ì‚¬ì´íŠ¸ ì „ì²´ê°€ ë‹¤ìš´ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ê°œë°œ ë‚œì´ë„ê°€ ìƒë‹¹í•˜ë‹¤
  - MSAë¥¼ ì œëŒ€ë¡œ ìš´ì˜í•˜ê¸° ìœ„í•´ ì•Œê³  ìˆì–´ì•¼í•˜ëŠ” ì§€ì‹ì´ ë„ˆë¬´ ë§ë‹¤.
  - Monolithicë³´ë‹¤ ì˜¤íˆë ¤ ë” ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤

---

### 2.1 Monolithicì˜ ë°°í¬ ë…ë¦½ì„± ë¬¸ì œ

![nestjs-fastcam-msa_47-2](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-2.png)

---

### 2.2 Microserviceì˜ ë°°í¬ ë…ë¦½ì„±

![nestjs-fastcam-msa_47-3](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-3.png)

---

### 2.3 Monolithic ë°°í¬ ê³¼ì • ë¬¸ì œ

![nestjs-fastcam-msa_47-4](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-4.png)

---

### 2.4 MSA ë°°í¬ ê³¼ì •

![nestjs-fastcam-msa_47-5](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-5.png)

---

### 2.5 Monolithic ê°œë°œíŒ€ êµ¬ì„±

![nestjs-fastcam-msa_47-6](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-6.png)

---

### 2.6 Microserviceì˜ ê°œë°œíŒ€ êµ¬ì„±

![nestjs-fastcam-msa_47-7](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-7.png)

---

## 3. MSAì˜ ì£¼ìš” ìš”ì†Œ

MSAë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìš´ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì„œë¡œ ìƒí˜¸ì‘ìš©í•´ì•¼í•œë‹¤.
MSAëŠ” â€œê°œë…â€ì´ê¸° ë•Œë¬¸ì— ì„¤ê³„í•˜ëŠ” ë°©ë²•ì´ ë§¤ìš° ë‹¤ì–‘í•˜ì§€ë§Œ, ì–´ëŠì •ë„ â€œí•„ìˆ˜â€ë¡œ ìƒê°ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì¡´ì¬í•œë‹¤.

`API Gateway`

- ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì˜ ë‹¨ë… ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì—­í• ì„ í•œë‹¤.
  - e.g. /userë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ user serviceë¡œ ë¼ìš°íŒ…ì„ í•˜ê±°ë‚˜,
  - /authë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ auth serviceë¡œ ë¼ìš°íŒ…ì„ í•œë‹¤.
- ê³µí†µì ì¸ ì œí•œ/ë¡œì§ì„ ë‹´ë‹¹í•œë‹¤. (e.g. ì¸ì¦, Throttling, ìºì‹±, ë¡œê¹… ëª¨ë‹ˆí„°ë§)
- ë³´ì•ˆ ë ˆì´ì–´ ì—­í• ì„í•œë‹¤. (e.g. í•˜ë‚˜ì˜ ê³µí†µëœ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì—­í• ì„ í•˜ë©° ì™¸ë¶€ì— ë…¸ì¶œë˜ëŠ” í‘œë©´ë©´ì ì„ ì¤„ì—¬ì¤€ë‹¤.)

`Service Discovery`

- ì§€ì†ì ìœ¼ë¡œ ìƒì„±ë˜ê³  ì‚­ì œë˜ëŠ” ì„œë¹„ìŠ¤ë“¤ì„ ì‰½ê²Œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.
- Health Checkë¥¼ í†µí•´ ì¥ì• ê°€ ìˆëŠ” ì„œë¹„ìŠ¤ë“¤ì„ ì œì™¸ì‹œí‚¨ë‹¤.

`ì„œë¹„ìŠ¤ê°„ í†µì‹  : Inter-service Communication`

- ë…ë¦½ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œ ê°€ëŠ¥í•˜ë‹¤ê³  í•´ì„œ ì„œë¡œ í†µì‹ ì´ í•„ìš”ì—†ëŠ”ê²Œ ì•„ë‹ˆë‹¤.
- Sync (ë™ê¸°) : HTTP, gRPC
- Async (ë¹„ë™ê¸°) : RabbitMQ, Kafka, AWS SQS, Redis

`ë…ë¦½ ë°ì´í„°ë² ì´ìŠ¤ : í•„ìˆ˜ì‚¬í•­ x`

- ê° ì„œë¹„ìŠ¤ë³„ë¡œ ìµœì í™”ëœ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. (SQL, NoSQLë“±)

`Distributed Logging & Monitoring`

- MicroserviceëŠ” ë„ˆë¬´ ë§ì€ ì„œë¹„ìŠ¤ë“¤ì´ ë¶„ì‚°ë˜ì–´ ìš´ì˜ë˜ê¸° ë•Œë¬¸ì— ë¡œê¹…ê³¼ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ì„ ì¤‘ì•™í™” í•  í•„ìš”ê°€ ìˆë‹¤.
- MSAê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ ì„œë¹„ìŠ¤ê°„ ìš”ì²­ì˜ íë¦„ì„ íŒŒì•…í•  í•„ìš”ì„±ì´ ë†’ì•„ì§„ë‹¤.

`CI/CD Pipeline`

- ì„œë¹„ìŠ¤ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ë°°í¬ê³¼ì •ê³¼ ìŠ¤í¬ë¦½íŠ¸ê°€ ë³µì¡í•´ì§„ë‹¤.
- ì‹œí€€ìŠ¤ê°€ ì •í™•íˆ ì§œì—¬ì ¸ìˆëŠ” ì‘ì—…ì„ ë§¤ë²ˆ ìˆ˜ë™ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ”ê±´ ë¹„íš¨ìœ¨ì ì´ë‹¤.
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— MSAë¥¼ ë””í”Œë¡œì´ í• ë•Œ CICDëŠ” ì‚¬ ì‹¤ìƒ í•„ìˆ˜ë‹¤.

`Event Driven Architecture`

- MSAëŠ” ì„œë¹„ìŠ¤ê°„ Async(ë¹„ë™ê¸°) í†µì‹ ì„ í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ ë””ìì¸í•˜ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤.
- ëª¨ë“  í†µì‹ ì„ Sync(ë™ê¸°)ë¡œ ì§„í–‰í•˜ê²Œë˜ë©´ ì•ˆì •ì„±ì´ ë¶€ì¡±í•´ì§€ê³  ìŠ¤ì¼€ì¼ë§ì´ ë³µì¡í•´ì§„ë‹¤

---

### 3.1 API Gateway

![nestjs-fastcam-msa_47-8](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-8.png)

- ê°•ë ¥í•œ ë³´ì•ˆ ë ˆì´ì–´ê°€ ë  ìˆ˜ ìˆë‹¤.\
- í†µí•©ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µì´ ê°€ëŠ¥í•˜ë‹¤.
- Single Point of Failure ë˜ëŠ” Bottle Neckì´ ë  ìˆ˜ ìˆë‹¤.
- ìµœëŒ€í•œ ê°€ë³ê²Œ ì„¤ê³„í•´ì„œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì—­í• ì— ì¶©ì‹¤í•˜ì

---

### 3.2 Service Discovery

![nestjs-fastcam-msa_47-9](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-9.png)

- Monolithic Applicationì€ ëª¨ë“  ë¡œì§ì´ í•˜ë‚˜ì˜ ìœ ë‹›ìœ¼ë¡œ í†µí•©ë¼ìˆìœ¼ë‹ˆ ì„œë¹„ìŠ¤ê°„ í†µì‹ ì´ í•„ìš”ì—†ë‹¤.
- MSAëŠ” ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ê°„ í†µì‹ ì„ í†µí•´ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ í•„ìš”í•œ ìš”ì†Œë“¤ì„ ë¶ˆëŸ¬ ì˜¬ ìˆ˜ ìˆë‹¤.
- ë°©ë²•ìœ¼ë¡  ëŒ€í‘œì ìœ¼ë¡œ Client/Server Side Service Discoveryê°€ ì¡´ì¬í•œë‹¤

---

### 3.3 Inter-Microservice Communication

![nestjs-fastcam-msa_47-10](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-10.png)

- MSAëŠ” ì„œë¹„ìŠ¤ê°„ í†µì‹ ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.
- ê° ì„œë¹„ìŠ¤ê°„ ì•ˆì •ì ì´ê³  íš¨ìœ¨ì ìœ¼ë¡œ í†µì‹ ì„ í•  ìˆ˜ ìˆì–´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë‹¤ì–‘í•œ ì†”ë£¨ì…˜ì´ ì¡´ì¬í•œë‹¤.
- ì§ì ‘ì ì¸ ìš”ì²­/ì‘ë‹µ í˜•íƒœë¥¼ ë‹¤ë£¨ëŠ” Sync(ë™ê¸°) í˜•íƒœì˜ í†µì‹ ê³¼ Queue ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” Async(ë¹„ë™ê¸°) í˜•íƒœê°€ ì¡´ì¬í•œë‹¤

---

### 3.4 ë…ë¦½ëœ ë°ì´í„°ë² ì´ìŠ¤

![nestjs-fastcam-msa_47-11](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-11.png)

- ê°ê° Microserviceì˜ ì™„ì „í•œ ë…ë¦½ì„ ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë„ë©”ì¸ë³„ë¡œ ë”°ë¡œ êµ¬ì¶• í•  ìˆ˜ ìˆë‹¤.
- ë°ì´í„°ë² ì´ìŠ¤ê°€ ë‹¤ìš´ ëì„ë•Œ ì „ì²´ ì‹œìŠ¤í…œì´ ë‹¤ìš´ë˜ì§€ ì•Šë„ë¡ í•´ì¤€ë‹¤.
- í•„ìˆ˜ ì‚¬í•­ì€ ì•„ë‹ˆë‹¤. MSAì˜ ëª©ì ì— ë”°ë¼ ì•±/ì›¹ì„œë²„ë§Œ ë¶„ë¦¬í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ëŠ” í•˜ë‚˜ ë˜ëŠ” ê³µìœ  í•  ìˆ˜ ìˆë‹¤

---

### 3.5 Distributed Logging

![nestjs-fastcam-msa_47-12](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-12.png)

- Monolithic Architectureê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë‹¨ìˆœíˆ íŒŒì¼ì— ë¡œê·¸ë¥¼ ìƒì„±í•˜ê³  ì„œë²„ë¡œ ë“¤ì–´ê°€ì„œ ë³¼ ìˆ˜ ì—†ë‹¤.
- ê° ì„œë¹„ìŠ¤ì—ì„œ ìƒì„±ë˜ëŠ” ë¡œê·¸ë“¤ì„ ëª¨ë‘ í†µí•©í•´ì„œ ì¤‘ì•™í™” í•œ í›„ ë¶„ì„í•´ì•¼í•œë‹¤.
- ë¡œê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê° ì‹œìŠ¤í…œì˜ í˜„ì¬ ìƒíƒœ (Health/Memory/Cpu)ë¥¼ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆë‹¤

---

### 3.6 CI/CD íŒŒì´í”„ë¼ì¸

![nestjs-fastcam-msa_47-13](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-13.png)

- MSAë¡œ ìˆ˜ë§ì€ ì„œë¹„ìŠ¤ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë°°í¬í•œë‹¤ëŠ”ê±´ ë§ì´ ì•ˆëœë‹¤. Human Errorê°€ ë„ˆë¬´ ë§ì•„ì§„ë‹¤.
- ê°œë°œ í›„ ì‹œìŠ¤í…œì ìœ¼ë¡œ ë¬¸ì œë¥¼ íŒŒì•…í•˜ê³  (CI í…ŒìŠ¤íŠ¸ë“±) ìë™ìœ¼ë¡œ ë¹Œë“œ ë° íŒ¨í‚¤ì§• í›„
  - ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜(Kubernetes)ì— ë°°í¬ ë  ìˆ˜ ìˆë„ë¡ ì‹œìŠ¤í…œì„ êµ¬ì„±í•´ì•¼ íš¨ìœ¨ì ìœ¼ë¡œ MSA ìš´ì˜ì´ ê°€ëŠ¥í•˜ë‹¤

---

### 3.7 Event Driven Architecture

![nestjs-fastcam-msa_47-14](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-14.png)

- Microserviceê°€ ë§ì•„ì§ˆìˆ˜ë¡ íš¨ìœ¨ì ìœ¼ë¡œ ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê³  Scalingì„ í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
- HTTPë“± ë™ê¸° ë°©ì‹ìœ¼ë¡œ í†µì‹ í•˜ë©´ Scalingì´ ì–´ë ¤ì›Œì§„ë‹¤.
- Async ë°©ì‹ìœ¼ë¡œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ë©´ ì„œë¹„ìŠ¤ê°„ íš¨ìœ¨ì ì¸ decouplingì´ ê°€ëŠ¥í•´ì§€ê³  ì„¤ê³„ê°€ íš¨ìœ¨ì ì´ë‹¤

---

## 4. ì–‘ë‚ ì˜ ê²€ MSA

MSAë¥¼ â€œê¶ê·¹ì ì¸ ì•„í‚¤í…ì²˜â€ë¡œ ìƒê°í•˜ë©´ ì ˆëŒ€ ì•ˆëœë‹¤. MSAê°€ ì „í†µì ì¸ ì•„í‚¤í…ì²˜ì˜ ë§ì€ ë¬¸ì œë“¤ì„ í•´ê²°í•´ì£¼ì§€ë§Œ,
ë™ì‹œì— ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í•„ìš”ë¡œí•˜ê³  ì„¤ê³„ ìì²´ê°€ ë§¤ìš° ë‚œì´ë„ê°€ ë†’ë‹¤.
ê·¸ë˜ì„œ MSAë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì„œ ì˜¤íˆë ¤ ì„¤ê³„ê°€ ë”ìš± ë³µì¡í•´ì§€ê³  ê°œë°œ í”„ë¡œì„¸ìŠ¤ê°€ ì˜¤íˆë ¤ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë³€í•  ìˆ˜ ìˆë‹¤.

- MSAëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê·œëª¨ê°€ ì»¤ì ¸ì„œ ì ì  ë¬´ê±°ì›Œì§€ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê³ ì•ˆë˜ì—ˆë‹¤.
  - Monolithicìœ¼ë¡œ ì„¤ê³„í•´ë„ ì¶©ë¶„íˆ ìœ ì§€ë³´ìˆ˜ê°€ ê°€ëŠ¥í•˜ë‹¤ë©´ MSAë¥¼ í•  í•„ìš” ì—†ë‹¤.
- MSAëŠ” ìƒë‹¹íˆ ë§ì€ ê¸°ìˆ ë“¤ì´ ì¡°í™”ë¡­ê²Œ ì‘ë™í•˜ëŠ” ìƒí™©ì„ ìš”êµ¬í•œë‹¤.
  - MSA ìì²´ê°€ â€˜íŠ¹ì • ê¸°ìˆ â€™ì„ ìš”êµ¬í•˜ëŠ” ì•„í‚¤í…ì²˜ëŠ” ì•„ë‹ˆì§€ë§Œ, í˜„ì‹¤ì ìœ¼ë¡œ ë´¤ì„ë•Œ ë§ì€ ê¸°ìˆ ì˜ ì¡°í™”ê°€ í•„ìš”í•˜ë‹¤.
  - ì¦‰, ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ëŠ¥ìˆ™í•˜ê²Œ í™œìš© í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ìê°€ ì—†ë‹¤ë©´ ì˜¤íˆë ¤ ì§ì´ ë  ìˆ˜ ìˆë‹¤.
- MSAì˜ ê¸°ë³¸ì ì¸ ì¸í”„ë¼ì™€ íŒŒì´í”„ë¼ì¸ ê·¸ë¦¬ê³  ì•„í‚¤í…ì²˜ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì–´ëŠì •ë„ ì¸ë ¥ì´ ê¼­ í•„ìš”í•˜ë‹¤.
  - ë¬¼ë¡  ì´ˆ ì—˜ë¦¬íŠ¸ ê°œë°œ ì§‘ë‹¨ì´ë¼ë©´ ì†Œìˆ˜ì˜ ì¸ì›ìœ¼ë¡œ êµ¬í˜„ í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ,
  - ì§ì›ë“¤ì´ í‡´ì‚¬í–ˆì„ë•Œ ì–¼ë§ˆë‚˜ íš¨ìœ¨ì ìœ¼ë¡œ ëŒ€ì²´í•˜ê³  ì¸ìˆ˜ì¸ê³„ê°€ ê°€ëŠ¥í• ì§€ì— ëŒ€í•œ ë¶€ë¶„ë„ ê³ ë¯¼ í•´ë´ì•¼í•œë‹¤
- Monolithic Architectureë³´ë‹¤ MSAë¥¼ ìš´ì˜í• ë•Œ ì„œë²„ ì¸í”„ë¼ ìµœì†Œ ë¹„ìš©ì´ ì›”ë“±íˆ ë†’ë‹¤.

---

## 5. ì˜¤í•´í•˜ì§€ ë§ì!

MSAëŠ” Microservice Architectureë‹¤.
ë§ ê·¸ëŒ€ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì‘ê²Œ ë‚˜ëˆ ì„œ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ë° ë°°í¬ë¥¼ í•  ìˆ˜ ìˆìœ¼ë©´ ëœë‹¤ëŠ” ê°œë…ì´ë‹¤.

MSAê°€ Domain Driven Design, Clean Architecture, Onion Architecture, Hexagonal Architecture ë“±ì„ ê°•ì œí•˜ì§€ ì•ŠëŠ”ë‹¤.

- í•˜ì§€ë§Œ íŠ¹ì • ì•„í‚¤í…ì²˜ì™€ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í™•ì‹¤íˆ MSA ìš´ì˜ì´ ìœ ë¦¬í•˜ê³  ì¡°í™”ê°€ ì¢‹ì•„ì§„ë‹¤.
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— í° í”„ë¡œì íŠ¸ì—ì„œëŠ” ë‹¤ì–‘ í•œ ì•„í‚¤í…ì²˜ë¥¼ í•¨ê»˜ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.
- í•˜ì§€ë§Œ ì—¬ê±´ì´ ì•ˆëœë‹¤ë©´ MVC íŒ¨í„´ìœ¼ë¡œ MSAë¥¼ í•´ë„ í‹€ë¦°ê²Œ ì•„ë‹ˆë‹¤.

ê³ ì°¨ì› ì•„í‚¤í…ì²˜ë¥¼ ì ìš© í• ìˆ˜ë¡ ë³µì¡í•œ í° ê·œëª¨ì˜ í”„ë¡œì íŠ¸ì—ì„œ ìœ ì§€ë³´ìˆ˜ì™€ ê°œë°œì´ í¸ë¦¬í•´ì§„ë‹¤.
í•˜ì§€ë§Œ ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì˜¤íˆë ¤ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ê°€ ë§ì•„ì§€ê³  ë¹ ë¥´ê²Œ ê°œë°œí•˜ëŠ”ë° ì¥ì• ë¬¼ì´ ë  ìˆ˜ ìˆë‹¤.

ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ì´í•´í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë‹¤.

- ëª¨ë“  ê°œë°œì—ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ íƒ€í˜‘ì´ í•„ìš”í•˜ë‹¤. íŠ¹íˆë‚˜ ì†Œê·œëª¨ ê¸°ì—…ì´ë¼ë©´ ì´ ë¶€ë¶„ì´ ë”ìš±ë” ì¤‘ìš”í•˜ë‹¤.
- ì‚¬ì—…ì˜ ì§„í–‰ì„ ìœ„í•´ ì¢‹ì€ ì•„í‚¤í…ì²˜ë¥¼ ë¬´ì¡°ê±´ í¬ê¸°í•˜ë¼ëŠ” ì´ì•¼ê¸°ê°€ ì ˆëŒ€ ì•„ë‹ˆë‹¤.
- ì§€ê¸ˆ ë‹¹ì¥ ì ìš© í•´ì•¼í•˜ëŠ” ì‹œì ì´ë¼ëŠ” í™•ì‹ ì´ ë“ ë‹¤ë©´ ê°•ë ¥í•˜ê²Œ ë°€ê³ ë‚˜ê°€ì.
- í•˜ì§€ë§Œ â€œê·¸ëƒ¥ ì´ê²Œ ì¢‹ë‹¤ê³  ë°°ì› ê¸° ë•Œë¬¸ì—â€ ì‚¬ìš©í•˜ëŠ” ê°œë°œìê°€ ë˜ì§€ëŠ” ë§ì

ë¬¼ë¡  ëª¨ë¥´ê³  ì•ˆì“°ëŠ”ê²ƒê³¼ ì•Œê³  ì•ˆì“°ëŠ”ê±´ ë„ˆë¬´ ë‹¤ë¥´ë‹¤.
ê·¸ëŸ¬ë‹ˆ ë§ì€ ì§€ì‹ì„ ìŠµë“í•œ í›„ í”„ë¡œì íŠ¸ë³„ë¡œ í˜„ëª…í•œ ê²°ì •ì„ ë‚´ë¦¬ê¸¸ ë°”ë€ë‹¤.

---

## 6. MSA ì§„í–‰ ê°œìš”

ì´ ê°•ì˜ëŠ” ìµœì†Œí•œì˜ NestJS Microservice êµ¬í˜„ë¶€í„° ì‹œì‘í•´ì„œ ì ì°¨ ê¸°ìˆ ì„ ë¶™ì—¬ë‚˜ê°€ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ê²Œ ëœë‹¤.

MicroserviceëŠ” ì‚¬ìš©í•˜ëŠ” ê²ƒ ë§Œìœ¼ë¡œë„ ìƒë‹¹íˆ ë§ì€ ì±Œë¦°ì§€ì™€ ë¬¸ì œë“¤ì„ ì•¼ê¸°í•œë‹¤.
ì´ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê¸°ìœ„í•´ ë§ì€ ê°œë…ë“¤ì´ ìƒê²¨ë‚¬ê³  ë§ì€ ê¸°ìˆ ë“¤ì´ ë°œëª…ëë‹¤.
í•˜ì§€ë§Œ ì´ ëª¨ë“ ê±¸ í•œë²ˆì— ëª¨ë‘ ì ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤.
ì†Œí”„íŠ¸ì›¨ì–´ì— ë¬´ì–¸ê°€ê°€ ì¶”ê°€ëœë‹¤ëŠ”ê±´ ìœ ì§€ ë³´ìˆ˜ ë¹„ìš©ì´ ë” ë§ì´ ë“¤ê³  ë” ë§ì€ ê¸°ìˆ ìê°€ í•„ìš”í•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.

ì–´ë–¤ ê¸°ìˆ ì„ ê³µë¶€í•˜ê³  ê·¸ ê¸°ìˆ ì„ ê¼­ ì‹¤ë¬´ì— ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ë§Œ ìœ ìš©í•œê±´ ì•„ë‹ˆë‹¤.
í•˜ì§€ë§Œ ì™ ë§Œí•˜ë©´ ìˆ˜ê°•ìƒë“¤ì´ ì´ ê°•ì˜ì—ì„œ ë°°ìš´ê±¸ ì‹¤ë¬´ ì—ì„œ ì‚¬ìš© í•´ë³¼ ìˆ˜ ìˆë‹¤ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê°€ì¥ ë¬´ë¦¬í•˜ì§€ ì•ŠëŠ” ê·œëª¨ë¡œ Microserviceë¥¼ ì§„í–‰í•˜ëŠ” ë°©ë²•ë¶€í„° ì°¨ê·¼ì°¨ê·¼ ê³ ë„í™”ëœ ê¸°ìˆ ë“¤ì„ ë¶™ì—¬ê°€ëŠ” ë°©ì‹ìœ¼ë¡œ ê°•ì˜ë¥¼ ì§„í–‰í•  ê³„íšì´ë‹¤.

ì´ ê°•ì˜ì— ë‚˜ì˜¤ëŠ” ëª¨ë“  ê¸°ìˆ ì´ â€œMSAë¥¼ í•˜ë ¤ë©´ ê¼­ ì‚¬ìš©í•´ì•¼í•˜ëŠ”â€ ê¸°ìˆ ì´ë¼ ìƒê°í•  í•„ìš”ì—†ë‹¤.
Dockerì™€ Kubernetesê°™ì€ ê²½ìš° ì‚¬ì‹¤ìƒ ì‚¬ìš© ì•ˆí•˜ëŠ”ê²Œ ë” ì–´ë µê¸´ í•˜ì§€ë§Œ,
DDD, Clean Architecture, Istio, CQRS, Kafkaë“± ë„ˆë¬´ ë§ì€ ê¸°ìˆ ë“¤ì´ ëŒ€ì²´ ìƒí’ˆì´ ì¡´ì¬í•˜ê³ ,
â€œë„ì… í•˜ì§€ ì•Šì„ ìš©ê¸°â€ë¥¼ ì¶©ë¶„íˆ ê°–ì„ë§Œí•œ ê¸°ìˆ ë“¤ì´ë‹¤.

ê·¸ëŸ¬ë‹ˆ ì´ ê°•ì˜ì—ì„œ ì „ë‹¬í•˜ëŠ” â€œë©”ì„¸ì§€â€ì— ì§‘ì¤‘ í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤.
ì–´ë–¤ ê¸°ìˆ ì´ ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²° í•  ìˆ˜ ìˆê³ ,
ë°˜ë©´ì— ì–´ë–¤ ë‹¨ì ì´ ìˆëŠ”ì§€ ì˜ ì´í•´í•œë‹¤ë©´ ë‚´ íŒ€ê³¼ í”„ë¡œì íŠ¸ì— ê°€ì¥ ì ë‹¹í•œ ê·œëª¨ì˜ MSAë¥¼ í•  ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í•œë‹¤.

> ğŸ’¡ í”„ë¡œì íŠ¸ ê¸°ëŠ¥ í”Œë¡œìš°
>
> ì‚¬ìš©ì ì¸ì¦ â†’ ì£¼ë¬¸ ë°œí–‰ â†’ ìƒí’ˆ í™•ì¸ ë° ê°€ê²© ê²€ì¦ â†’ ê²°ì œ â†’ ì•Œë¦¼

---

### 6.1 êµ¬í˜„í•  Microservice Domain

![nestjs-fastcam-msa_47-15](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-15.png)

---

### 6.2 êµ¬í˜„í•  Microservice Domain êµ¬ì¡°

![nestjs-fastcam-msa_47-16](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-16.png)

---

### 6.3 ì½”ë“œ ì•„í‚¤í…ì²˜ ë°œì „ ì‹œí‚¤ê¸°

![nestjs-fastcam-msa_47-17](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-17.png)

---

### 6.4 ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí‚¹ ë°©ë²• ë°°ìš°ê¸°

![nestjs-fastcam-msa_47-18](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-18.png)

---

### 6.5 ì»¨í„°ì´ë„ˆí™” & ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

![nestjs-fastcam-msa_47-19](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-19.png)

---

### 6.6 íŒ¨í„´ ì ìš©

![nestjs-fastcam-msa_47-20](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-20.png)

---

### 6.7 ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê¹…

![nestjs-fastcam-msa_47-21](https://raw.githubusercontent.com/berenickt/image-server/refs/heads/main/nestjs/nestjs-fastcam-msa_47-21.png)
