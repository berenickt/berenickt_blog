---
title: '05-Union & Intersection'
date: 2023/01/08
---

## 1. Union (í•©ì§‘í•©, |)

`Union(ìœ ë‹ˆì–¸)` : í•˜ë‚˜ë¡œ ë­‰ì³ì§€ëŠ” ê²ƒ, ì¡°í•©

- e.g. Unit : í•˜ë‚˜ë¡œ ì›€ì§ì´ëŠ” ìµœì†Œ ë‹¨ìœ„, (ìƒí’ˆì˜) 1ê°œ, (íŠ¹ì • ì„ë¬´ë¥¼ ìœ„í•œ) ë¶€ëŒ€ | ë‹¨ì²´
- e.g. Unity : í•˜ë‚˜ë¡œ ë­‰ì³ì§„ ì‚¬ëŒë“¤ì˜ ë§ˆìŒ, ì •ì„œ ë“±

```typescript
// 4ê°€ì§€ íƒ€ì…ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” Direction íƒ€ì…----------------------
type Direction = 'left' | 'right' | 'up' | 'down'
function move(direction: Direction) {
  console.log(direction)
}
move('down')

// 3ê°€ì§€ íƒ€ì…ì„ ê°€ì§€ëŠ” TileSizeíƒ€ì…-------------------------------
type TileSize = 8 | 16 | 32
const tile: TileSize = 16
```

---

## 2. Intersection (êµì§‘í•©, &)

`Intersect(ì¸í„°ì„¹ì…˜)` : êµì°¨í•˜ë‹¤[ë§Œë‚˜ë‹¤], (ì–´ë–¤ ì§€ì—­ì„) ê°€ë¡œì§€ë¥´ë‹¤, êµì§‘í•©

```typescript
type student = {
  name: string
  score: number
}

type father = {
  empolyeeId: number
  work: () => void
}

// í•™ìƒ & ì§ì¥ì¸ íƒ€ì…ì„ ëª¨ë‘ ì‘ì„±í•´ì•¼ë§Œ í•˜ëŠ” ê²½ìš°
function internWork(ì§‘ì•ˆ: student & father) {
  console.log(ì§‘ì•ˆ.name, ì§‘ì•ˆ.empolyeeId, ì§‘ì•ˆ.work())
}

internWork({
  name: 'ë©”ì‹œ',
  score: 189,
  empolyeeId: 123,
  work: () => {},
})
```

---

## 3. Union Typeì„ ì“¸ ë•Œ ì£¼ì˜í•  ì 

ë…¼ë¦¬ì ìœ¼ë¡œ Unio íƒ€ì…ì€ OR, Intersection íƒ€ì…ì€ ANDë¼ê³  ìƒê°í•˜ì‹œëŠ” ë¶„ë“¤ì´ ìˆì„í…ë°,
Interaceì™€ ê°™ì€ íƒ€ì…ì„ ë‹¤ë£° ë•ŒëŠ” ë‹¤ìŒì™€ ê°™ì€ ë…¼ë¦¬ì  ì‚¬ê³ ë¥¼ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ë³´ê² ìŠµë‹ˆë‹¤.

```ts
interface Person {
  name: string
  age: number
}
interface Developer {
  name: string
  skill: string
}

// íŒŒë¼ë¯¸í„° íƒ€ì…ì„ `Person`, `Developer` ì¸í„°í˜ì´ìŠ¤ì˜ Union íƒ€ì…ìœ¼ë¡œ ì •ì˜
// íŒŒë¼ë¯¸í„°ì˜ íƒ€ì…ì´ `Person`ë„ ë˜ê³  `Developer`ë„ ëœë‹¤ê³  ìƒê°í•´ì„œ
// í•¨ìˆ˜ ì•ˆì— í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë“¤ì´ ì œê³µí•˜ëŠ” `age`ë‚˜ `skill`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë¼ê³  ìƒê°í•  ìˆ˜ ìˆìŒ
// ê·¸ëŸ¬ë‚˜ introduce() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì ì— `Person` íƒ€ì…ì´ ì˜¬ì§€ `Developer` íƒ€ì…ì´ ì˜¬ì§€ ì•Œ ìˆ˜ê°€ ì—†ìŒ
// ê·¸ë˜ì„œ TSëŠ” ì–´ëŠ íƒ€ì…ì´ ë“¤ì–´ì˜¤ë“  ê°„ì— ì˜¤ë¥˜ê°€ ì•ˆ ë‚˜ëŠ” ë°©í–¥ìœ¼ë¡œ íƒ€ì…ì„ ì¶”ë¡ í•¨
function introduce(someone: Person | Developer) {
  someone.name // O ì •ìƒ ë™ì‘
  someone.age // X íƒ€ì… ì˜¤ë¥˜
  someone.skill // X íƒ€ì… ì˜¤ë¥˜
}
```

ê²°ê³¼ì ìœ¼ë¡œ `introduce()`ì•ˆì—ì„œëŠ” ë³„ë„ì˜ **íƒ€ì… ê°€ë“œ(Type Guard)**ë¥¼ ì´ìš©í•˜ì—¬ íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì¢íˆì§€ ì•ŠëŠ” ì´ìƒ,
ê¸°ë³¸ì ìœ¼ë¡œëŠ” `Person`ê³¼ `Developer` ë‘ íƒ€ì…ì— ê³µí†µì ìœ¼ë¡œ ë“¤ì–´ìˆëŠ” ì†ì„±ì¸ `name`ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

---

## 4. Type Narrowing(íƒ€ì… ì¢íˆê¸°)

ifë¬¸ ë“±ìœ¼ë¡œ íƒ€ì…ì„ í•˜ë‚˜ë¡œ ì •í•´ì£¼ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
íƒ€ì…ì´ í™•ì‹¤í•˜ì§€ ì•Šì„ ë•Œ ìƒê¸°ëŠ” ë¶€ì‘ìš©ì„ ë§‰ê¸°ìœ„í•œ ì¥ì¹˜ì…ë‹ˆë‹¤.

Narrowingìœ¼ë¡œ íŒì •í•´ì£¼ëŠ” ë¬¸ë²•ë“¤

- **ì¡°ê±´ë¬¸ì„ ì´ìš©í•œ íƒ€ì…ê°€ë“œ**
- **typeof íƒ€ì… ê°€ë“œ** : `typeof ë³€ìˆ˜`
- **in íƒ€ì… ê°€ë“œ** : `ì†ì„±ëª… in ì˜¤ë¸Œì íŠ¸ ìë£Œ`
- **instanceof íƒ€ì… ê°€ë“œ** : `ì¸ìŠ¤í„´ìŠ¤ instanceof ë¶€ëª¨`

---

### 4.1 ì¡°ê±´ë¬¸ì„ ì´ìš©í•œ íƒ€ì…ê°€ë“œ

```typescript
type Animal = {
  name: string
  legs?: number
}
function addLeg(animal: Animal) {
  // leg ì†ì„±ì´ undefinedê°€ ë ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
  // leg ì†ì„±ì„ ì‚¬ìš©í•˜ê¸° ì „ì— truthyì¸ì§€ í™•ì¸í•˜ë©´ ë¨
  // ë³€ìˆ˜ì—ì„œ nullê³¼ undefinedë¥¼ ì œì™¸ì‹œí‚´
  if (animal.legs) {
    animal.legs = animal.legs + 1
  }
}
```

---

### 4.2 typeof íƒ€ì… ê°€ë“œ

```typescript
function PlusOne(x: number | string) {
  if (typeof x === 'number') return x + 1
  else if (typeof x === 'string') return x + 1
  else return 0
}
```

---

### 4.3 in íƒ€ì… ê°€ë“œ

```typescript
interface Person {
  firstName: string
  surname: string
}
interface Organization {
  name: string
}

type Contact = Person | Organization

function sayHello(contact: Contact) {
  // ì†ì„±ëª… in ì˜¤ë¸Œì íŠ¸ ìë£Œ
  if ('firstName' in contact) {
    console.log('Hello ' + contact.firstName)
  }
}
```

---

### 4.4 instanceof íƒ€ì… ê°€ë“œ

```typescript
class Person {
  constructor(
    public firstName: string,
    public surname: string,
  ) {}
}
class Organisation {
  constructor(public name: string) {}
}
type Contact = Person | Organisation

function sayHello(contact: Contact) {
  console.log('Hello ' + contact.firstName)
  // ğŸ’¥ Property 'firstName' does not exist on type 'Contact'.
  // ğŸ’¥ contactê°€ firstName ì†ì„±ë¥¼ ì—†ëŠ” Organisation íƒ€ì…ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸
}
```

`ì¸ìŠ¤í„´ìŠ¤ instanceof ë¶€ëª¨`ë¥¼ ì‚¬ìš©í•˜ë©´, í¸í•©ë‹ˆë‹¤.

```typescript
class Person {
  constructor(
    public firstName: string,
    public surname: string,
  ) {}
}
class Organisation {
  constructor(public name: string) {}
}
type Contact = Person | Organisation

function sayHello(contact: Contact) {
  // ì¸ìŠ¤í„´ìŠ¤ instanceof ë¶€ëª¨
  // if ë¬¸ì•ˆì—ì„œ contactì˜ íƒ€ì…ì€ Personìœ¼ë¡œ ì¢í˜€ì§(narrow)
  if (contact instanceof Person) {
    console.log('Hello ' + contact.firstName)
  }
}
```
