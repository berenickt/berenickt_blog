---
title: '09-μ ν‹Έλ¦¬ν‹° νƒ€μ…(Utility Type)'
date: 2023/01/08
---

## 1. keyof

μ λ‹μ¨ νƒ€μ…μ„ μ‚¬μ©ν• κ²ƒκ³Ό λ™μΌν• κ²°κ³Όλ¥Ό λ³€μμ— λ„£μ„ μ μμ

```typescript
interface User {
  id: number
  name: string
  age: number
  gender: 'm' | 'f'
}

// User μΈν„°νμ΄μ¤μ ν‚¤ κ°’μ¤‘ ν•λ‚λ¥Ό λ¶λ¬μ¬ λ•  μ‚¬μ©
type UserKey = keyof User // 'id' | 'name' | 'age' | 'gender'

const uk: UserKey = 'id'

// λ‹¤μμ²λΌ μ—†λ” κ°’μ„ λ„£μΌλ©΄ μ—λ¬κ°€ λ‚©λ‹λ‹¤.
// const uk: UserKey = '';
```

---

## 2. partial`<T>`

λ‹¤μ μ½”λ“μ²λΌ μΈν„°νμ΄μ¤μ— μ„ μ–Έν• μ†μ„± κ°’λ“¤ μ¤‘ μΌλ¶€ μ†μ„±λ§ λ„£μΌλ©΄ μ—λ¬λ‚©λ‹λ‹¤.

```typescript
interface User {
  id: number
  name: string
  age: number
  gender: 'm' | 'f'
}

// μΈν„°νμ΄μ¤μ— μ„ μ–Έν• μ†μ„± κ°’λ“¤ μ¤‘ μΌλ¶€ μ†μ„±λ§ λ„£μ
// π’¥ Error : age, gender μ†μ„±μ΄ μ—†μ
let admin: User = {
  id: 1,
  name: 'λ©”μ‹',
}
```

partialμ€ μ†μ„±μ„ λ¨λ‘ `Optional(μ„ νƒμ μΈ)` κ°’μΌλ΅ λ°”κΏ”μ¤λ‹λ‹¤.

```typescript
interface User {
  id: number
  name: string
  age: number
  gender: 'm' | 'f'
}

// partial : λ‹¤ μ„ νƒμ μΈ μ†μ„±μΌλ΅ λ°”κΏ”μ¤
let admin: Partial<User> = {
  id: 1,
  name: 'λ©”μ‹',
}
```

---

## 3. required`<T>`

`required`λ” λ°λ€λ΅ **λ¨λ“  μ†μ„± κ°’λ“¤μ„ ν•„μ κ°’μΌλ΅** λ§λ“¤μ–΄μ¤λ‹λ‹¤.

```typescript
interface User {
  id: number
  name: string
  age?: number // age μ†μ„±μ€ μ„ νƒμ μΈ κ°’
}

// Required : λ¨λ“  μ†μ„±μ΄ ν•„μμ—¬μ•Ό ν•¨
// π’¥ Error : age μ†μ„±μ΄ μ •μμ•λ¨
let admin: Required<User> = {
  id: 1,
  name: 'λ©”μ‹',
  // age: 30,
}
```

ageλ¥Ό μ„ μ–Έν•΄μ£Όλ©΄ μ—λ¬κ°€ μ‚¬λΌμ§‘λ‹λ‹¤.

---

## 4. readonly`<T>`

- `readonly`λ” λ§ κ·Έλ€λ΅ **μ½κΈ° μ „μ©μΌλ΅ λ°”κΎΈλ” κ²ƒ**
- μ„ μ–Έλ§ κ°€λ¥ν•κ³ , μμ •μ„ ν•  μ μ—†μ

```typescript
interface User {
  id: number
  name: string
  age?: number
}

// Readonly : μ½μ„ μλ§ μμ
let admin: Readonly<User> = {
  id: 1,
  name: 'λ©”μ‹',
}

admin: id = 4 // π’¥ Error : μμ •λ»ν•¨
```

---

## 5. record`<K,T>`

- `record`λ” keyμ™€ value κ°’μ— μ–΄λ–¤ λ‚΄μ©μ„ ν• λ‹Ήν•  μ μλ”μ§€ λ…ν™•ν•κ² ν•  λ• μ‚¬μ©
- Kλ” ν‚¤μ΄κ³ , Tλ” μ”μ†

λ‹¤μμ²λΌ κ³Όλ©λ³„ μ μλ¥Ό λ‹΄λ” κ°μ²΄λ¥Ό μ„ μ–Έν•λ©΄ λ³µμ΅ν•©λ‹λ‹¤.

```typescript
interface Score {
  '1': 'A' | 'B' | 'C' | 'D'
  '2': 'A' | 'B' | 'C' | 'D'
  '3': 'A' | 'B' | 'C' | 'D'
  '4': 'A' | 'B' | 'C' | 'D'
}

const score: Score = {
  1: 'A',
  2: 'C',
  3: 'B',
  4: 'D',
}
```

Recordλ¥Ό μ΄μ©ν•λ©΄ μ‰½κ² ν‘ν„ν•  μ μμµλ‹λ‹¤. Record **μ•μ—λ” ν‚¤**, **λ’¤μ—λ” μ”μ†**κ°€ λ“¤μ–΄κ°‘λ‹λ‹¤.

```typescript
// 1,2,3,4λΌλ” ν‚¤κ°’μ—λ” A,B,C,DλΌλ” μ”μ†κ°€ λ“¤μ–΄κ° μ μμ
const score: Record<'1' | '2' | '3' | '4', 'A' | 'B' | 'C' | 'D'> = {
  1: 'A',
  2: 'C',
  3: 'B',
  4: 'D',
}
```

λ”°λ΅ λ³€μλ¥Ό λ§λ“¤μ–΄μ„ λ„£μ–΄λ‘λ©΄ μΆ€ λ” νΈν•κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

```typescript
type Grade = '1' | '2' | '3' | '4'
type Score = 'A' | 'B' | 'C' | 'D'

const score: Record<Grade, Score> = {
  1: 'A',
  2: 'C',
  3: 'B',
  4: 'D',
}
```

μ΅°κΈ λ” ν™•μ¥ν•΄μ„ userκ°μ²΄λ¥Ό λ°›μ•„μ„ μ΄ κ°μ²΄κ°€ μ¬λ°”λ¥Έ κ°’μ„ κ°–κ³  μλ” μ§€λ¥Ό ν™•μΈν•΄μ£Όλ” isValidλΌλ” ν•¨μλ¥Ό λ§λ“ λ‹¤κ³  ν•©μ‹λ‹¤.

```typescript
interface User {
  id: number
  name: string
  age: number
}

// user κ°μ²΄κ°€ μ¬λ°”λ¥Έ κ°’μ„ κ°€μ§€λ”μ§€ μ²΄ν¬
function isValid(user: User) {
  const result: Record<keyof User, boolean> = {
    id: user.id > 0,
    name: user.name !== '',
    age: user.age > 0,
  }
  return result
}
```

isValid μ•μ result κ°μ²΄μ ν‚¤κ°’μ—λ” id, name, ageκ°€ λ“¤μ–΄κ°‘λ‹λ‹¤.
μ΄ ν‚¤κ°’μ€ User μΈν„°νμ΄μ¤μ keyκ°’κ³Ό κ°™κΈ° λ•λ¬Έμ— **keyof User**λ΅ κ°„λ‹¨ν•κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

---

## 6. pick`<T,K>`

- **T νƒ€μ…μ—μ„ K μ†μ„±λ§ κ³¨λΌμ„ μ‚¬μ©**

```typescript
interface User {
  id: number
  name: string
  age: number
  gender: 'M' | 'W'
}

// USer μΈν„°νμ΄μ¤μ—μ„ id, name μ†μ„±λ§ μ‚¬μ©ν•  λ–„ pick
const admin: Pick<User, 'id' | 'name'> = {
  id: 0,
  name: 'λ©”μ‹',
}
```

---

## 7. omit`<T,K>`

- pickκ³Ό λ°λ€λ΅ **T νƒ€μ…μ—μ„ K ν”„λ΅νΌν‹°λ§ μ μ™Έν•κ³  μ‚¬μ©ν•  μ μκ² ν•΄ μ£Όλ” ν‚¤μ›λ“**
- μ„ μμ λ¥Ό λ°λ€λ΅ idμ™€ name λ€μ‹  ageμ™€ genderλ΅ λ°”κΎΈκ³  Pickμ„ Omitλ΅ λ°”κΏ”μ£Όλ©΄ λ™μΌν•κ² λ™μ‘

```typescript
interface User {
  id: number
  name: string
  age: number
  gender: 'M' | 'W'
}

// USer μΈν„°νμ΄μ¤μ—μ„ age, gender μ†μ„±λ¥Ό μ μ™Έν•κ³  μ‚¬μ©ν•  λ–„ omit
const admin: Omit<User, 'age' | 'gender'> = {
  id: 0,
  name: 'λ©”μ‹',
}
```

---

## 8. exclude`<T1,T2>`

- **T1 νƒ€μ…μ—μ„ T2 νƒ€μ…μ„ μ μ™Έν•κ³  μ‚¬μ©ν•  μ μκ² ν•΄ μ£Όλ” ν‚¤μ›λ“**
- omitκ³Ό λ‹¤λ¥Έ μ μ€ `omit`μ€ **ν”„λ΅νΌν‹°λ¥Ό μ μ™Έ**ν•λ” κ²ƒμ΄κ³ , `exclude`λ” **νƒ€μ…μ„ μ μ™Έ**
- μ¦‰, T1νƒ€μ…μ—μ„ T2νƒ€μ…κ³Ό κ²ΉμΉλ” κ²ƒλ“¤μ„ μ κ±°ν•λ” κ²ƒ

λ§μ•½ T1 νƒ€μ…μ—μ„ numberλ‘ stringμ„ μ μ™Έν• νƒ€μ…μ„ T2μ— λ„£κ³  μ‹¶λ‹¤λ©΄...

```typescript
type T1 = string | number | boolean
type T2 = Exclude<T1, number | string> // T1 νƒ€μ…μ—μ„ numberλ‘ stringμ„ μ μ™Έν• νƒ€μ…
// T2μ— λ§μ°μ¤λ¥Ό μ¬λ ¤λ³΄λ©΄, boolean νƒ€μ…λ§ ν• λ‹Ή κ°€λ¥
```

---

## 9. nonnullable`<T>`

- **nullμ„ μ μ™Έν• νƒ€μ…μ„ μƒμ„±ν•λ” ν‚¤μ›λ“**
- μ΄λ¦„λ§ λ³΄λ©΄ nullλ§ μ μ™Έν•λ” κ²ƒμ²λΌ λ³΄μΌ μ μλ”λ°, undefinedλ„ κ°™μ΄ μ κ±°ν•©λ‹λ‹¤.

```typescript
type T1 = string | null | undefined | void
type T2 = NonNullable<T1> // nullκ³Ό undefinedλ¥Ό μ κ±°ν• νƒ€μ…
```

---

## Ref

- [μ½”λ”©μ•™λ§ - TypeScript #8 μ ν‹Έλ¦¬ν‹° νƒ€μ… Utility Types](https://youtu.be/IeXZo-JXJjc)
